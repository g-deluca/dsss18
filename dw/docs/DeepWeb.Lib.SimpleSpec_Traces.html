<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>DeepWeb.Lib.SimpleSpec_Traces</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library DeepWeb.Lib.SimpleSpec_Traces</h1>

<div class="code">
<span class="comment">(*&nbsp;Traces&nbsp;and&nbsp;scramblings.&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;define&nbsp;the&nbsp;notion&nbsp;of&nbsp;trace&nbsp;and&nbsp;a&nbsp;"scrambling"<br/>
&nbsp;&nbsp;&nbsp;relation&nbsp;between&nbsp;the&nbsp;traces&nbsp;produced&nbsp;by&nbsp;a&nbsp;server&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;those&nbsp;that&nbsp;can&nbsp;be&nbsp;observed&nbsp;by&nbsp;a&nbsp;client&nbsp;on&nbsp;the&nbsp;other&nbsp;side<br/>
&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;network.<br/>
<br/>
&nbsp;&nbsp;&nbsp;The&nbsp;network&nbsp;is&nbsp;defined&nbsp;as&nbsp;a&nbsp;state&nbsp;machine&nbsp;with&nbsp;transitions<br/>
&nbsp;&nbsp;&nbsp;visible&nbsp;either&nbsp;by&nbsp;the&nbsp;server&nbsp;or&nbsp;by&nbsp;the&nbsp;client;<br/>
&nbsp;&nbsp;&nbsp;see&nbsp;<span class="inlinecode"><span class="id" title="var">Lib.SimpleSpec_NetworkModel</span></span>.<br/>
&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Relations.Relations.html#"><span class="id" title="library">Relations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Classes.RelationClasses.html#"><span class="id" title="library">RelationClasses</span></a>.<br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">QuickChick</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">QuickChick</span>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Custom</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Custom.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="Custom.Show.html#"><span class="id" title="library">Show</span></a> <a class="idref" href="Custom.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Custom</span> <span class="id" title="keyword">Require</span> <a class="idref" href="Custom.Map.html#"><span class="id" title="library">Map</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DeepWeb.Free.Monad.Free.html#"><span class="id" title="library">DeepWeb.Free.Monad.Free</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DeepWeb.Free.Monad.Common.html#"><span class="id" title="library">DeepWeb.Free.Monad.Common</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">SumNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DeepWeb.Lib.Util.html#"><span class="id" title="library">DeepWeb.Lib.Util</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#"><span class="id" title="library">DeepWeb.Lib.SimpleSpec_NetworkModel</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Bullet</span> <span class="id" title="var">Behavior</span> "Strict Subproofs".<br/>

<br/>
<span class="comment">(*&nbsp;An&nbsp;event&nbsp;can&nbsp;be&nbsp;observed&nbsp;to&nbsp;happen&nbsp;on&nbsp;the&nbsp;network,<br/>
&nbsp;&nbsp;&nbsp;either&nbsp;from&nbsp;the&nbsp;server's&nbsp;or&nbsp;the&nbsp;client's&nbsp;point&nbsp;of&nbsp;view.<br/>
&nbsp;&nbsp;&nbsp;It&nbsp;is&nbsp;paremeterized&nbsp;by&nbsp;the&nbsp;type&nbsp;to&nbsp;represent&nbsp;the&nbsp;server's<br/>
&nbsp;&nbsp;&nbsp;output...&nbsp;*)</span><br/>
<span class="id" title="keyword">Inductive</span> <a name="event"><span class="id" title="inductive">event</span></a> (<span class="id" title="var">byte'</span> : <span class="id" title="keyword">Type</span>) :=<br/>
| <a name="NewConnection"><span class="id" title="constructor">NewConnection</span></a> : <a class="idref" href="DeepWeb.Lib.Util.html#connection_id"><span class="id" title="inductive">connection_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#byte'"><span class="id" title="variable">byte'</span></a><br/>
| <a name="ToServer"><span class="id" title="constructor">ToServer</span></a> : <a class="idref" href="DeepWeb.Lib.Util.html#connection_id"><span class="id" title="inductive">connection_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.Util.html#byte"><span class="id" title="definition">byte</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#byte'"><span class="id" title="variable">byte'</span></a><br/>
| <a name="FromServer"><span class="id" title="constructor">FromServer</span></a> : <a class="idref" href="DeepWeb.Lib.Util.html#connection_id"><span class="id" title="inductive">connection_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#byte'"><span class="id" title="variable">byte'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#byte'"><span class="id" title="variable">byte'</span></a><br/>
.<br/>

<br/>
<span class="comment">(*&nbsp;...&nbsp;In&nbsp;the&nbsp;real&nbsp;world,&nbsp;this&nbsp;output&nbsp;is&nbsp;a&nbsp;concrete&nbsp;byte.<br/>
&nbsp;&nbsp;&nbsp;(the&nbsp;other&nbsp;event&nbsp;type&nbsp;is&nbsp;<span class="inlinecode"><span class="id" title="var">hypo_event</span></span>,&nbsp;down&nbsp;below).&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="real_event"><span class="id" title="definition">real_event</span></a> := <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> <a class="idref" href="DeepWeb.Lib.Util.html#byte"><span class="id" title="definition">byte</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> {<span class="id" title="var">byte'</span>}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> {<span class="id" title="var">byte'</span>}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> {<span class="id" title="var">byte'</span>}.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;trace&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;events.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="trace"><span class="id" title="definition">trace</span></a> <span class="id" title="var">byte'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#byte'"><span class="id" title="variable">byte'</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="real_trace"><span class="id" title="definition">real_trace</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_event"><span class="id" title="definition">real_event</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="server_transition"><span class="id" title="definition">server_transition</span></a> (<span class="id" title="var">ev</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_event"><span class="id" title="definition">real_event</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#network_state"><span class="id" title="definition">network_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#network_state"><span class="id" title="definition">network_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">ns</span> <span class="id" title="var">ns'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> <span class="id" title="var">c</span> ⇒ <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#server_accept"><span class="id" title="definition">server_accept</span></a> <span class="id" title="var">c</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns'"><span class="id" title="variable">ns'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#server_recv"><span class="id" title="definition">server_recv</span></a> <span class="id" title="var">c</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns'"><span class="id" title="variable">ns'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#server_send"><span class="id" title="definition">server_send</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns'"><span class="id" title="variable">ns'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="client_transition"><span class="id" title="definition">client_transition</span></a> (<span class="id" title="var">ev</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_event"><span class="id" title="definition">real_event</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#network_state"><span class="id" title="definition">network_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#network_state"><span class="id" title="definition">network_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">ns</span> <span class="id" title="var">ns'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> <span class="id" title="var">c</span> ⇒ <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#client_connect"><span class="id" title="definition">client_connect</span></a> <span class="id" title="var">c</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns'"><span class="id" title="variable">ns'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#client_send"><span class="id" title="definition">client_send</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns'"><span class="id" title="variable">ns'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#client_recv"><span class="id" title="definition">client_recv</span></a> <span class="id" title="var">c</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns'"><span class="id" title="variable">ns'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;main&nbsp;"scrambling"&nbsp;relation.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Corresponding&nbsp;"server-side"&nbsp;and&nbsp;"client-side"&nbsp;traces.&nbsp;*)</span><br/>
<span class="id" title="keyword">Inductive</span> <a name="network_scrambled_"><span class="id" title="inductive">network_scrambled_</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#network_state"><span class="id" title="definition">network_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_trace"><span class="id" title="definition">real_trace</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_trace"><span class="id" title="definition">real_trace</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="ScrambleEmpty"><span class="id" title="constructor">ScrambleEmpty</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">ns</span>, <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#network_scrambled_"><span class="id" title="inductive">network_scrambled_</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><br/>
| <a name="ScrambleServer"><span class="id" title="constructor">ScrambleServer</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">ns</span> <span class="id" title="var">ns'</span> <span class="id" title="var">e</span> <span class="id" title="var">tr_server</span> <span class="id" title="var">tr_client</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#server_transition"><span class="id" title="definition">server_transition</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns'"><span class="id" title="variable">ns'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#network_scrambled_"><span class="id" title="inductive">network_scrambled_</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns'"><span class="id" title="variable">ns'</span></a>       <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr_server"><span class="id" title="variable">tr_server</span></a>  <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr_client"><span class="id" title="variable">tr_client</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#network_scrambled_"><span class="id" title="inductive">network_scrambled_</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a>  (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr_server"><span class="id" title="variable">tr_server</span></a>) <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr_client"><span class="id" title="variable">tr_client</span></a><br/>
| <a name="ScrambleClient"><span class="id" title="constructor">ScrambleClient</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">ns</span> <span class="id" title="var">ns'</span> <span class="id" title="var">e</span> <span class="id" title="var">tr_server</span> <span class="id" title="var">tr_client</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#client_transition"><span class="id" title="definition">client_transition</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns'"><span class="id" title="variable">ns'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#network_scrambled_"><span class="id" title="inductive">network_scrambled_</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns'"><span class="id" title="variable">ns'</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr_server"><span class="id" title="variable">tr_server</span></a>       <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr_client"><span class="id" title="variable">tr_client</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#network_scrambled_"><span class="id" title="inductive">network_scrambled_</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ns"><span class="id" title="variable">ns</span></a>  <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr_server"><span class="id" title="variable">tr_server</span></a> (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr_client"><span class="id" title="variable">tr_client</span></a>)<br/>
.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="network_scrambled"><span class="id" title="definition">network_scrambled</span></a> := <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#network_scrambled_"><span class="id" title="inductive">network_scrambled_</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_NetworkModel.html#initial_ns"><span class="id" title="definition">initial_ns</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="event_connection"><span class="id" title="definition">event_connection</span></a> {<span class="id" title="var">byte'</span>} (<span class="id" title="var">ev</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#byte'"><span class="id" title="variable">byte'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.Util.html#connection_id"><span class="id" title="inductive">connection_id</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> <span class="id" title="var">c'</span> ⇒ <span class="id" title="var">c'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> <span class="id" title="var">c'</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">c'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> <span class="id" title="var">c'</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">c'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Some&nbsp;notations&nbsp;to&nbsp;make&nbsp;traces&nbsp;readable.&nbsp;*)</span><br/>
<span class="id" title="keyword">Module</span> <a name="EventNotations"><span class="id" title="module">EventNotations</span></a>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">event_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">event</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Connection&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>&nbsp;is&nbsp;open.&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a name="feb8153d04fc6665339c1391f2cece92"><span class="id" title="notation">&quot;</span></a>c !" := (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> (<a class="idref" href="DeepWeb.Lib.Util.html#Connection"><span class="id" title="constructor">Connection</span></a> <span class="id" title="var">c</span>))<br/>
(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">real_scope</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Byte&nbsp;<span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;goes&nbsp;to&nbsp;the&nbsp;server&nbsp;on&nbsp;connection&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a name="df3bb969d0dcda948e709d6197bf8f6a"><span class="id" title="notation">&quot;</span></a>c &lt;-- b" := (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> (<a class="idref" href="DeepWeb.Lib.Util.html#Connection"><span class="id" title="constructor">Connection</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">b</span>%<span class="id" title="var">char</span>)<br/>
(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">real_scope</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Byte&nbsp;<span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;goes&nbsp;out&nbsp;of&nbsp;the&nbsp;server&nbsp;on&nbsp;connection&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a name="610ef7cbd8f1a68e9592a636940548c0"><span class="id" title="notation">&quot;</span></a>c --&gt; b" := (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> (<a class="idref" href="DeepWeb.Lib.Util.html#Connection"><span class="id" title="constructor">Connection</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">b</span>%<span class="id" title="var">char</span>)<br/>
(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">real_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="7c2847d5a0982a9db785b10ae427b365"><span class="id" title="notation">&quot;</span></a>c !" := (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> (<a class="idref" href="DeepWeb.Lib.Util.html#Connection"><span class="id" title="constructor">Connection</span></a> <span class="id" title="var">c</span>) : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="DeepWeb.Lib.Util.html#byte"><span class="id" title="definition">byte</span></a>))<br/>
(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">hypo_scope</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Byte&nbsp;<span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;goes&nbsp;to&nbsp;the&nbsp;server&nbsp;on&nbsp;connection&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a name="966431a13a7a49f81c5af5701b92d3c1"><span class="id" title="notation">&quot;</span></a>c &lt;-- b" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> (<a class="idref" href="DeepWeb.Lib.Util.html#Connection"><span class="id" title="constructor">Connection</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">b</span>%<span class="id" title="var">char</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="DeepWeb.Lib.Util.html#byte"><span class="id" title="definition">byte</span></a>))<br/>
(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">hypo_scope</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Byte&nbsp;<span class="inlinecode"><span class="id" title="var">b</span></span>&nbsp;goes&nbsp;out&nbsp;of&nbsp;the&nbsp;server&nbsp;on&nbsp;connection&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a name="276f3e3279a8e9dfccae38f6abf94ae8"><span class="id" title="notation">&quot;</span></a>c --&gt; b" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> (<a class="idref" href="DeepWeb.Lib.Util.html#Connection"><span class="id" title="constructor">Connection</span></a> <span class="id" title="var">c</span>) (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span>)%<span class="id" title="var">char</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="DeepWeb.Lib.Util.html#byte"><span class="id" title="definition">byte</span></a>))<br/>
(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">hypo_scope</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Unknown&nbsp;byte&nbsp;goes&nbsp;out&nbsp;of&nbsp;the&nbsp;server&nbsp;on&nbsp;connection&nbsp;<span class="inlinecode"><span class="id" title="var">c</span></span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Notation</span> <a name="423f72f04b8d74ad16a36c9a9465f41f"><span class="id" title="notation">&quot;</span></a>c --&gt; ?" := (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> (<a class="idref" href="DeepWeb.Lib.Util.html#Connection"><span class="id" title="constructor">Connection</span></a> <span class="id" title="var">c</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="DeepWeb.Lib.Util.html#byte"><span class="id" title="definition">byte</span></a>))<br/>
(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">hypo_scope</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Open&nbsp;Scope&nbsp;real_scope.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">hypo_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">hypo</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">real_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">real</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#EventNotations"><span class="id" title="module">EventNotations</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;With&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">network_scrambled</span></span>&nbsp;relation&nbsp;we&nbsp;defined&nbsp;here,&nbsp;we<br/>
&nbsp;&nbsp;&nbsp;can&nbsp;state&nbsp;the&nbsp;correctness&nbsp;property&nbsp;we&nbsp;generally&nbsp;want&nbsp;to&nbsp;test<br/>
&nbsp;&nbsp;&nbsp;and&nbsp;verify&nbsp;about&nbsp;server&nbsp;itrees,&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">Lib.SimpleSpec_Refinement</span></span>.&nbsp;It&nbsp;is&nbsp;specialized&nbsp;to&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;swap&nbsp;server&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">Spec.TopLevelSpec</span></span>.&nbsp;*)</span><br/>

<br/>
<span class="comment">(***************&nbsp;Internals&nbsp;******************)</span><br/>

<br/>
<span class="comment">(*&nbsp;Basic&nbsp;predicates&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_Connect"><span class="id" title="definition">is_Connect</span></a> {<span class="id" title="var">byte'</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">ev</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#byte'"><span class="id" title="variable">byte'</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_FromServer"><span class="id" title="definition">is_FromServer</span></a> {<span class="id" title="var">byte'</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">ev</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#byte'"><span class="id" title="variable">byte'</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_ToServer"><span class="id" title="definition">is_ToServer</span></a> {<span class="id" title="var">byte'</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">ev</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#byte'"><span class="id" title="variable">byte'</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Traces&nbsp;with&nbsp;holes.&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;It&nbsp;will&nbsp;also&nbsp;be&nbsp;useful&nbsp;for&nbsp;testing&nbsp;to&nbsp;insert&nbsp;hypothetical<br/>
&nbsp;&nbsp;&nbsp;bytes&nbsp;of&nbsp;unknown&nbsp;values&nbsp;in&nbsp;a&nbsp;trace,&nbsp;representing&nbsp;values&nbsp;that&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;server&nbsp;may&nbsp;have&nbsp;output&nbsp;but&nbsp;which&nbsp;have&nbsp;not&nbsp;reached&nbsp;the&nbsp;client&nbsp;yet.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="hypo_event"><span class="id" title="definition">hypo_event</span></a> := <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="inductive">event</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="DeepWeb.Lib.Util.html#byte"><span class="id" title="definition">byte</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="hypo_trace"><span class="id" title="definition">hypo_trace</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#hypo_event"><span class="id" title="definition">hypo_event</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;can&nbsp;convert&nbsp;real&nbsp;things&nbsp;to&nbsp;hypothetical&nbsp;things.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="real_to_hypo_event"><span class="id" title="definition">real_to_hypo_event</span></a> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_event"><span class="id" title="definition">real_event</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#hypo_event"><span class="id" title="definition">hypo_event</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">ev</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> <span class="id" title="var">c</span> ⇒ <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> <span class="id" title="var">c</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_event"><span class="id" title="definition">real_to_hypo_event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_event"><span class="id" title="definition">:</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_event"><span class="id" title="definition">real_event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_event"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_event"><span class="id" title="definition">hypo_event</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="real_to_hypo_trace"><span class="id" title="definition">real_to_hypo_trace</span></a> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_trace"><span class="id" title="definition">real_trace</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#hypo_trace"><span class="id" title="definition">hypo_trace</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_event"><span class="id" title="definition">real_to_hypo_event</span></a>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_trace"><span class="id" title="definition">real_to_hypo_trace</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_trace"><span class="id" title="definition">:</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_trace"><span class="id" title="definition">real_trace</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_trace"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_to_hypo_trace"><span class="id" title="definition">hypo_trace</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Events&nbsp;and&nbsp;effects&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;relate&nbsp;events&nbsp;to&nbsp;effects&nbsp;as&nbsp;follows:&nbsp;an&nbsp;event&nbsp;is&nbsp;a&nbsp;pair&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;an&nbsp;effect&nbsp;(of&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">eff</span></span> <span class="inlinecode"><span class="id" title="var">X</span></span>&nbsp;for&nbsp;some&nbsp;<span class="inlinecode"><span class="id" title="var">X</span></span>)&nbsp;and&nbsp;a&nbsp;result&nbsp;(of<br/>
&nbsp;&nbsp;&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">X</span></span>).&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a name="EventType"><span class="id" title="record">EventType</span></a> (<span class="id" title="var">event</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">eff</span> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;<a name="Build_EventType"><span class="id" title="constructor">Build_EventType</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="from_event"><span class="id" title="projection">from_event</span></a> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="variable">event</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">{</span></a> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">&amp;</span></a> (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#eff"><span class="id" title="variable">eff</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#X"><span class="id" title="variable">X</span></a>)%<span class="id" title="keyword">type</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">}</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="event_eff"><span class="id" title="definition">event_eff</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">event</span>} {<span class="id" title="var">eff</span>} `{<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#EventType"><span class="id" title="class">EventType</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="variable">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#eff"><span class="id" title="variable">eff</span></a>} (<span class="id" title="var">ev</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="variable">event</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#eff"><span class="id" title="variable">eff</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#from_event"><span class="id" title="method">from_event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a>)) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#from_event"><span class="id" title="method">from_event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="event_res"><span class="id" title="definition">event_res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">event</span>} {<span class="id" title="var">eff</span>} `{<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#EventType"><span class="id" title="class">EventType</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="variable">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#eff"><span class="id" title="variable">eff</span></a>} (<span class="id" title="var">ev</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="variable">event</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#from_event"><span class="id" title="method">from_event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#from_event"><span class="id" title="method">from_event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a>)).<br/>

<br/>
<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">+'</span> <span class="inlinecode"><span class="id" title="var">F</span></span>&nbsp;is&nbsp;a&nbsp;signature&nbsp;of&nbsp;_visible_&nbsp;effects&nbsp;<span class="inlinecode"><span class="id" title="var">F</span></span>&nbsp;and&nbsp;_invisible_<br/>
&nbsp;&nbsp;&nbsp;effects&nbsp;<span class="inlinecode"><span class="id" title="var">E</span></span>.&nbsp;The&nbsp;trace&nbsp;(of&nbsp;type&nbsp;<span class="inlinecode"><span class="id" title="var">list</span></span> <span class="inlinecode"><span class="id" title="var">event</span></span>)&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of<br/>
&nbsp;&nbsp;&nbsp;visible&nbsp;effects&nbsp;<span class="inlinecode"><span class="id" title="var">F</span></span>&nbsp;with&nbsp;their&nbsp;results.&nbsp;*)</span><br/>
<span class="id" title="keyword">Inductive</span> <a name="is_trace"><span class="id" title="inductive">is_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">event</span> : <span class="id" title="keyword">Type</span>} {<span class="id" title="var">E</span> <span class="id" title="var">F</span> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<span class="id" title="var">R</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#EventType"><span class="id" title="class">EventType</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event"><span class="id" title="variable">event</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#F"><span class="id" title="variable">F</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="DeepWeb.Free.Monad.Free.html#M"><span class="id" title="inductive">M</span></a> (<span class="id" title="var">E</span> <a class="idref" href="DeepWeb.Free.Monad.OpenUnion.html#a713615ae89f5e79b81b3a5662d0793f"><span class="id" title="notation">+'</span></a> <span class="id" title="var">F</span>) <span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="var">event</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="ServerEmpty"><span class="id" title="constructor">ServerEmpty</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>, <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#is_trace"><span class="id" title="inductive">is_trace</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><br/>
| <a name="ServerVis"><span class="id" title="constructor">ServerVis</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">ev</span> <span class="id" title="var">k</span> <span class="id" title="var">tr</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#is_trace"><span class="id" title="inductive">is_trace</span></a> (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#k"><span class="id" title="variable">k</span></a> (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event_res"><span class="id" title="definition">event_res</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a>)) <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#is_trace"><span class="id" title="inductive">is_trace</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#Vis"><span class="id" title="constructor">Vis</span></a> <a class="idref" href="DeepWeb.Free.Monad.OpenUnion.html#0e0a4dca525f93499ca75408b58ed5f7"><span class="id" title="notation">(|</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#event_eff"><span class="id" title="definition">event_eff</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a><a class="idref" href="DeepWeb.Free.Monad.OpenUnion.html#0e0a4dca525f93499ca75408b58ed5f7"><span class="id" title="notation">)</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#k"><span class="id" title="variable">k</span></a>) (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr"><span class="id" title="variable">tr</span></a>)<br/>
| <a name="ServerInvis"><span class="id" title="constructor">ServerInvis</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span> <span class="id" title="var">e</span> <span class="id" title="var">k</span> (<span class="id" title="var">x</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#X"><span class="id" title="variable">X</span></a>) <span class="id" title="var">tr</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#is_trace"><span class="id" title="inductive">is_trace</span></a> (<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#is_trace"><span class="id" title="inductive">is_trace</span></a> (<a class="idref" href="DeepWeb.Free.Monad.Free.html#Vis"><span class="id" title="constructor">Vis</span></a> <a class="idref" href="DeepWeb.Free.Monad.OpenUnion.html#bc6eb885c46b11f88927f8f92a59fd37"><span class="id" title="notation">(</span></a><a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="DeepWeb.Free.Monad.OpenUnion.html#bc6eb885c46b11f88927f8f92a59fd37"><span class="id" title="notation">|)</span></a> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#tr"><span class="id" title="variable">tr</span></a><br/>
.<br/>

<br/>
<span class="comment">(*&nbsp;Show&nbsp;instances&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="show_real_event"><span class="id" title="definition">show_real_event</span></a> (<span class="id" title="var">ev</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_event"><span class="id" title="definition">real_event</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> <span class="id" title="var">c</span> ⇒ (<span class="id" title="method">show</span> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " !")%<span class="id" title="var">string</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="method">show</span> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " &lt;-- " <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="method">show</span> <span class="id" title="var">b</span>)%<span class="id" title="var">string</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="method">show</span> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " --&gt; " <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="method">show</span> <span class="id" title="var">b</span>)%<span class="id" title="var">string</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="Show_real_event"><span class="id" title="instance">Show_real_event</span></a>: <span class="id" title="class">Show</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#real_event"><span class="id" title="definition">real_event</span></a> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="method">show</span> := <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#show_real_event"><span class="id" title="definition">show_real_event</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="show_hypo_event"><span class="id" title="definition">show_hypo_event</span></a> (<span class="id" title="var">ev</span> : <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#hypo_event"><span class="id" title="definition">hypo_event</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ev"><span class="id" title="variable">ev</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#NewConnection"><span class="id" title="constructor">NewConnection</span></a> <span class="id" title="var">c</span> ⇒ (<span class="id" title="method">show</span> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " !")%<span class="id" title="var">string</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#ToServer"><span class="id" title="constructor">ToServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="method">show</span> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " &lt;-- " <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="method">show</span> <span class="id" title="var">b</span>)%<span class="id" title="var">string</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#FromServer"><span class="id" title="constructor">FromServer</span></a> <span class="id" title="var">c</span> <span class="id" title="var">ob</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="method">show</span> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " --&gt; " <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="keyword">match</span> <span class="id" title="var">ob</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒ <span class="id" title="method">show</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ "?"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)%<span class="id" title="var">string</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="Show_hypo_event"><span class="id" title="instance">Show_hypo_event</span></a>: <span class="id" title="class">Show</span> <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#hypo_event"><span class="id" title="definition">hypo_event</span></a> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="method">show</span> := <a class="idref" href="DeepWeb.Lib.SimpleSpec_Traces.html#show_hypo_event"><span class="id" title="definition">show_hypo_event</span></a> }.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>